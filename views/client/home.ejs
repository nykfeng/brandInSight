<% layout("/layouts/boilerplateClient.ejs") %>


    <main class="content-body">
        <!-- Home page left panel -->
        <aside class="home-left-panel">

            <div class="welcome-area">
                <% if (currentUser.profilePicture) { %>
                    <a href="/user-profile">
                        <img src="<%= currentUser.profilePicture.url %>" alt="" class="user-profile-avatar">
                    </a>
                    <% } else { %>
                        <a href="/user-profile">
                            <img src="/public/images/baseImgs/blank-profile-picture.png" alt=""
                                class="user-profile-avatar">
                        </a>
                        <% } %>
                            <div class="welcome-text-area">
                                <h3 class="welcome-text">Welcome,</h3>
                                <a href="/user-profile">
                                    <h3 class="user-profile-name">
                                        <% if (currentUser.firstName) { %>
                                            <%= currentUser.firstName %>
                                                <%= currentUser.lastName %>
                                                    <% } else { %>
                                                        <%= currentUser.username %>
                                                            <% } %>
                                    </h3>
                                </a>
                            </div>
            </div>


            <div class="user-functions">
                <p class="functions-title">User Functions</p>
                <p class="functions-title--lower-resolution">Functions</p>
                <ul class="user-functions-list functions-list">
                    <li class="user-functions-item">
                        <a href="" class="functions-item">
                            <i class="fa-solid fa-thumbs-up"></i>
                            <span> Recommendations</span></a>
                    </li>
                    <li class="user-functions-item">
                        <a href="/user-profile" class="functions-item">
                            <i class="fa-solid fa-align-justify"></i>
                            <span> My Lists</span></a>
                    </li>
                    <li class="user-functions-item">
                        <a href="/user-profile" class="functions-item">
                            <i class="fa-solid fa-bookmark"></i>
                            <span> My Saved Contacts</span></a>
                    </li>
                    <li class="user-functions-item">
                        <a href="/user-profile" class="functions-item">
                            <i class="fa-solid fa-book"></i>
                            <span> My Followed Brands</span></a>
                    </li>
                </ul>
            </div>

            <div class="business-functions">
                <p class="functions-title">BrandInSights Explore</p>
                <p class="functions-title--lower-resolution">Explore</p>
                <ul class="business-functions-list functions-list">
                    <li class="business-functions-item">
                        <a href="" class="functions-item">
                            <i class="fa-solid fa-money-check"></i>
                            <span> Brands Search</span></a>
                    </li>
                    <li class="business-functions-item">
                        <a href="" class="functions-item">
                            <i class="fa-solid fa-address-book"></i>
                            <span> Discover Contacts</span></a>
                    </li>
                    <li class="business-functions-item">
                        <a href="" class="functions-item">
                            <i class="fa-solid fa-building-columns"></i>
                            <span> Private Investors</span></a>
                    </li>
                </ul>
            </div>


        </aside>

        <!-- home main content column -->
        <section class="home-column">

            <!-- treding brand list  -->
            <div class="home-trending-brands home-tab">
                <h1>Trending brands:</h1>
                <div class="home-column-title-line"></div>
                <ul class="brand-list">

                </ul>

                <div class="home-trending-view-more" data-module="trending-brands">
                    <button class="view-more-btn">View More</button>
                </div>
            </div>


            <!-- news activity from trending brands -->
            <div class="home-news-activity home-tab">
                <h1 class="home-newsfeed">News activity:</h1>
                <div class="home-column-title-line"></div>
                <ul class="home-newsfeed-list">

                </ul>
            </div>

            <!-- Featured brand activities -->
            <div class="home-featured-brand-activities">

            </div>

            <!-- Newly added brands -->
            <div class="home-newly-added-brands"></div>


            <div class="home-internal-tool">
                <h1>Editing Tool:</h1>
                <div class="home-column-title-line"></div>
                <p>To manage and edit brand data, use the internal management tool</p>
                <a href="/internal" class="internal-tool-btn">Internal Tools</a>

            </div>
        </section>

        <!-- home page right panel -->
        <aside class="home-right-panel">
            <!-- subscribed brands -->
            <div class="home-subscribed-brands--media" action="close-panel"><i class="fa-regular fa-bookmark"></i></div>
            <div class="home-subscribed-brands right-tab">
                <h2><i class="fa-regular fa-bookmark"></i> Subscribed Brands</h2>
                <ul class="right-brands-list right-brands-list__subscribed">

                </ul>
                <div class="right-brand-view-more flex" data-module="subscribed-brands">
                    <button class="view-more-btn">View More</button>
                </div>

            </div>

            <!-- recently viewed history -->
            <div class="home-recently-viewed--media" action="close-panel"><i class="fa-regular fa-clock"></i></div>
            <div class="home-recently-viewed right-tab">
                <h2><i class="fa-regular fa-clock"></i> Recently Viewed Brands:</h2>
                <ul class="right-brands-list right-brands-list__viewed">

                </ul>

                <div class="right-brand-view-more flex" data-module="viewed-brands">
                    <button class="view-more-btn">View More</button>
                </div>
            </div>

            <!-- most ad spend last quarter -->
            <div class="home-most-ad-spend--media" action="close-panel"><i class="fa-solid fa-dollar-sign"></i></div>
            <div class="home-most-ad-spend right-tab">
                <h2><i class="fa-solid fa-dollar-sign"></i> Most Ad Spend Last 12 Months:</h2>
                <ul class="right-brands-list right-brands-list__adSpend">

                </ul>

                <div class="right-brand-view-more flex" data-module="adSpend-brands">
                    <button class="view-more-btn">View More</button>
                </div>
            </div>


        </aside>


    </main>

    <script>
        // have to do it this way because of default formatter auto adding space to ejs
        // < % - will not work, space between % and - 
        let user = JSON.parse(`<%-JSON.stringify(currentUser)%>`);

        console.log('The current user at client home page is ');
        console.log(user);
    </script>

    <script src="/js/client/index.js" type="module" defer></script>